<h1>Edit Series</h1>

<h4>AnimeSeries</h4>
<hr />
<div class="row">
    <div class="col-lg-6">
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
            <input hidden type="number" value="{{series?.id}}" formControlName="id">
            <div class="form-group">
                <label for="englishTitle" class="control-label">English Title</label>
            <input type="text" id="englishTitle" value="{{series?.englishTitle}}" formControlName="englishTitle" class="form-control" />
            </div>
            <div class="form-group">
                <label for="type" class="control-label">Type</label>
            <input type="text" id="type" value="{{series?.type}}" formControlName="type" class="form-control" />
            </div>
            <div class="form-group">
                <label for="episodes" class="control-label">Episodes</label>
            <input type="number" id="englishTitle" value="{{series?.seasonsEpisodes[0].episodes}}" formControlName="episodes" class="form-control" />
            </div>
            <div class="form-group">
                <label for="releaseDate" class="control-label">Release Date</label>
                <input type="date" id="releaseDate" value="{{series?.releaseDate}}" formControlName="releaseDate" class="form-control" />
            </div>
            <div class="form-group">
                <label for="finishDate" class="control-label">Release Date</label>
                <input type="date" id="finishDate" value="{{series?.finishDate}}" formControlName="finishDate" class="form-control" />
            </div>
            <div class="form-group mb-3">
                <input type="file" (change)="onImageChanged($event)" accept=".jpeg,.jpg">
            </div>
            <div class="input-group mb-3">
                <span class="input-group">Synopsis</span>
                <textarea class="form-control" rows="5" formControlName="synopsis" value="{{series?.synopsis}}" aria-label="With textarea"></textarea>
              </div>
        </form>
    </div>
    <div class="col-lg-6">
        <div class="row">
            <div class="image col-lg-6" *ngIf="series?.picture.imageData">
                <h4>Current Image</h4>
                <div class="image-holder">
                    <img src="data:image/jpeg;base64,{{series.picture.imageData}}">
                </div>
            </div>
            <div class="image col-lg-6">
                <h4>Pending Image</h4>
                <div class="image-holder">
                    <img src="data:image/jpeg;base64,{{newImage}}">
                    <button *ngIf="newImage != null" type="button" class="btn btn-secondary btn-block" style="border-radius: 0;">Remove Image</button>
                    <button *ngIf="newImage == null" type="file" class="btn btn-secondary btn-block" style="border-radius: 0;">Add Image</button>
                </div>

            </div>
        </div>
    </div>
    <div class="form-group submit">
        <button type="submit" [disabled]="this.submitted" class="btn btn-primary">Save</button>
    </div>
</div>

<div>
    <a href="Javascript:void(0)" (click)="animeService.changeState(animeService.getCrudTypes().LIST)">Back to List</a>
</div>